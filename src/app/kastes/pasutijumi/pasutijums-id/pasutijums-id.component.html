<app-simple-form-container [formSource]="formSource">

    <form [formGroup]="form">
        <h2>
            {{form.controls.name.value}}
        </h2>
        <section>
            <mat-form-field>
                <mat-label>Izveidošanas datums</mat-label>
                <input matInput [matDatepicker]="picker" formControlName="receivedDate">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
            <mat-form-field>
                <mat-label>Nodošanas datums</mat-label>
                <input matInput [matDatepicker]="duePicker" formControlName="dueDate">
                <mat-datepicker-toggle matSuffix [for]="duePicker"></mat-datepicker-toggle>
                <mat-datepicker #duePicker></mat-datepicker>
            </mat-form-field>
        </section>
    </form>
    <mat-divider></mat-divider>
    <div *ngIf="job$ | async as job;">
        <button mat-raised-button (click)="onSetAsActive(job.jobId)">
            NOTEIKT KĀ AKTĪVO
        </button>
        <button mat-raised-button (click)="deleteKastes$.next(job.jobId)" [disabled]="job.jobStatus.generalStatus >= 30">
            IZDZĒST PAKOŠANAS SARAKSTU
        </button>
    </div>
    <div class="container" *ngIf="totals$ | async as totals">
        <h4>Pavisam adreses</h4>
        <p>
            {{totals.veikali}}
        </p>
        <h4>Kopējie skaiti pa krāsām</h4>
        <app-color-totals [colorTotals]="totals.colorTotals"></app-color-totals>
        <h4>Kopējie skaiti pa kastu apjomiem</h4>
        <app-apjomi-totals [totals]="totals.apjomiTotals"></app-apjomi-totals>
    </div>

</app-simple-form-container>
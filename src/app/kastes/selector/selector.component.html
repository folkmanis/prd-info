<mat-drawer-container *ngIf="pasutijumsId$ | async; else noActive;">

    <mat-drawer-content>

        <nav mat-tab-nav-bar>
            <a mat-tab-link *ngFor="let kaste of apjomi$ | async" [routerLink]="['../../selector', kaste]"
                [active]="kaste === (apjoms$ | async)">
                {{kaste}}
            </a>
        </nav>

        <div class="main-content">
            <app-tabula [pendingCount]="pendingCount$ | async"></app-tabula>
        </div>

    </mat-drawer-content>

    <mat-drawer button>
        <div *ngIf="kastesJob$ | async as kastesJob">
            <h4>
                {{kastesJob.jobId}} - {{kastesJob.name}}
            </h4>
            <div *ngIf="(apjoms$ | async) === 0">
                <mat-divider></mat-divider>
                <app-labels [status]="labelStatuss$ | async" (code)="onSetLabel($event)" [colors]="colors$ | async">
                </app-labels>
            </div>
            <div>
                <mat-divider></mat-divider>
                <app-order-totals [veikali]="kastesAll$ | async" [colors]="colors$ | async"></app-order-totals>
            </div>
        </div>
    </mat-drawer>

</mat-drawer-container>

<ng-template #noActive>
    <div class="no-active">
        <p>
            Nav izvēlēts aktīvais pakošanas saraksts.
        </p>
        <p>
            <a mat-raised-button routerLink="../../edit">IZVĒLĒTIES</a>
        </p>
    </div>
</ng-template>
<mat-drawer-container>
    <mat-drawer button [small]="isSmall$ | async">
        <app-jobs-without-invoices [noInvoices]="noInvoices$ | async"></app-jobs-without-invoices>
    </mat-drawer>

    <mat-drawer-content>

        <div class="container">

            <div class="top-panel mat-elevation-z4">
                <!-- Aprēķina izveide un saņemšana -->
                <section *ngIf="selectedJobs$ | async as selectedJobs;" class="selection">
                    <mat-form-field>
                        <mat-label>Klienta nosaukums</mat-label>
                        <mat-select [formControl]="customerId">
                            <mat-option value="">Visi</mat-option>
                            <mat-option *ngFor="let customer of noInvoices$ | async" [value]="customer._id">
                                {{customer._id}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <button mat-raised-button (click)="onCreateInvoice()" color="primary"
                        [disabled]="selectedJobs.length == 0 || customerId.value ===''">
                        APRĒĶINS
                    </button>
                    <button mat-raised-button (click)="onPrintList(selectedJobs)" [disabled]="selectedJobs.length == 0">
                        IZDRUKĀT
                    </button>
                </section>
                <section class="list">
                    <app-selection-totals [invoicesTotals]="invoicesTotals$ | async"></app-selection-totals>
                </section>
            </div>
            <div class="jobs">
                <!-- Darbu atlase -->
                <app-job-selection-table [jobs]="jobs$ | async" (selected)="onJobSelected($event)" cdk-scrollable
                    scroll-to-top>
                </app-job-selection-table>
            </div>
        </div>

    </mat-drawer-content>
</mat-drawer-container>
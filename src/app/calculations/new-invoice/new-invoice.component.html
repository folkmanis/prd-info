<mat-drawer-container>
    <mat-drawer button [small]="isSmall$ | async">
        <app-jobs-without-invoices></app-jobs-without-invoices>
    </mat-drawer>

    <mat-drawer-content cdk-scrollable scroll-to-top>

        <div class="container">

            <div class="top-panel mat-elevation-z4">
                <!-- Aprēķina izveide un saņemšana -->
                <section *ngIf="jobs$ | async as jobs;" class="selection">
                    <mat-form-field>
                        <mat-label>Klienta nosaukums</mat-label>
                        <mat-select [formControl]="customerId">
                            <mat-option value="">Visi</mat-option>
                            <mat-option *ngFor="let customer of customers$ | async" [value]="customer">
                                {{customer}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <button mat-raised-button (click)="onCreateInvoice()" color="primary"
                        [disabled]="customerId.invalid || !canSubmit || customerId.value ===''">
                        APRĒĶINS
                    </button>
                    <button *ngIf="totals$ | async as totals;" mat-raised-button
                        (click)="onPrintList(jobs, customerId.value, totals)">
                        IZDRUKĀT
                    </button>
                </section>
                <section class="list">
                    <app-selection-totals [totals]="totals$ | async"></app-selection-totals>
                </section>
            </div>
            <div class="jobs">
                <!-- Darbu atlase -->
                <app-job-selection-table [jobs]="jobs$ | async" (selected)="onJobSelected($event)" cdk-scrollable scroll-to-top>
                </app-job-selection-table>
            </div>
        </div>

    </mat-drawer-content>
</mat-drawer-container>
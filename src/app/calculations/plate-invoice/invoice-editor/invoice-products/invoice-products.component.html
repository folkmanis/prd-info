<table mat-table [dataSource]="products()" class="app-table">
  <tr mat-header-row *matHeaderRowDef="displayedColumns()"></tr>
  <tr mat-row *matRowDef="let product; columns: displayedColumns()"></tr>
  <tr mat-footer-row *matFooterRowDef="['_id', 'total']"></tr>

  <!-- 'paytraqId' -->
  <ng-container matColumnDef="paytraqId">
    <th mat-header-cell *matHeaderCellDef>PaytraqID</th>
    <td mat-cell *matCellDef="let product">
      {{ product.paytraqId }}
    </td>
  </ng-container>

  <!-- '_id/name' -->
  <ng-container matColumnDef="_id">
    <th mat-header-cell *matHeaderCellDef>Prece</th>
    <td mat-cell *matCellDef="let product">
      @if (isJobsAdmin()) {
        <button mat-flat-button (click)="onNavigateToProduct(product._id)">
          {{ product._id }}
        </button>
      } @else {
        <span>
          {{ product._id }}
        </span>
      }
    </td>
    <td mat-footer-cell *matFooterCellDef [colSpan]="displayedColumns().length - 1">Pavisam kopƒÅ</td>
  </ng-container>

  <!-- 'count' -->
  <ng-container matColumnDef="count">
    <th mat-header-cell *matHeaderCellDef>Skaits</th>
    <td mat-cell *matCellDef="let product">
      {{ product.count }}
    </td>
  </ng-container>
  <!-- 'price' -->
  <ng-container matColumnDef="price">
    <th mat-header-cell *matHeaderCellDef>Cena</th>
    <td mat-cell *matCellDef="let product">
      {{ product.price | currency }}
    </td>
  </ng-container>
  <!-- 'total' -->
  <ng-container matColumnDef="total">
    <th mat-header-cell *matHeaderCellDef>Summa</th>
    <td mat-cell *matCellDef="let product">
      {{ product.total | currency }}
    </td>
    <td mat-footer-cell *matFooterCellDef>{{ total() | currency }}</td>
  </ng-container>
</table>

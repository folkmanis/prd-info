<div class="container" [class.large]="large$ | async">
    <div *ngIf="large$ | async; else small;" class="selector">
        <mat-form-field class="search-box">
            <input matInput type="search" [formControl]="filterControl">
            <button *ngIf="filterControl.value" matSuffix mat-icon-button (click)="filterControl.setValue('')">
                <mat-icon>close</mat-icon>
            </button>
            <button *ngIf="!filterControl.value" matSuffix mat-icon-button>
                <mat-icon>search</mat-icon>
            </button>
        </mat-form-field>
        <mat-nav-list>
            <a mat-list-item *ngFor="let item of data$ | async; last as last;" [routerLink]="item.link"
                (click)="onSelect(item)">{{item.title}}
                <mat-divider *ngIf="!last"></mat-divider>
            </a>
        </mat-nav-list>
        <button *ngIf="addButton" mat-fab color="primary" routerLink="new">
            <mat-icon>
                add
            </mat-icon>
        </button>
    </div>
    <ng-template #small>
        <div class="small">
            <mat-form-field>
                <mat-select [formControl]="selectionControl">
                    <mat-option *ngFor="let item of data$ | async" [value]="item.link">
                        {{ item.title }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <button *ngIf="addButton" mat-fab color="primary" routerLink="new">
            <mat-icon>
                add
            </mat-icon>
        </button>
    </ng-template>

    <div class="content" [class.mat-elevation-z4]="large$ | async">
        <ng-content></ng-content>
    </div>

</div>
<header>

    <a mat-icon-button appKeyPress="escape" tabindex="-1" routerLink="..">
        <mat-icon> arrow_back </mat-icon>
    </a>

    <h4>
        <span *ngIf="form.value.jobId as jobId;">
            {{ jobId }}&nbsp;-&nbsp;
        </span>
        {{ form.value.name }}
    </h4>

</header>

<mat-divider></mat-divider>

<div class="content">
    <app-job-form [fileUploadProgress]="fileUploadProgress$ | async"></app-job-form>
</div>

<app-drop-folder [folders]="dropFolders$ | async" [defaultEnabled]="isUpload" (folderChanges)="onDropFolder($event)"
    [disabled]="isUpload == false && form.value.files == null">
</app-drop-folder>

<mat-divider></mat-divider>

<footer>

    <button *ngIf="form.value.jobId else createButton;" mat-raised-button color="primary" appKeyPress="ctrlEnter"
        [disabled]="saveDisabled$ | async" (click)="onUpdate()">
        SAGLABÄ€T
    </button>

    <ng-template #createButton>
        <button mat-raised-button color="primary" [disabled]="saveDisabled$ | async" appKeyPress="ctrlEnter"
            (click)="onCreate()">
            IZVEIDOT
        </button>
    </ng-template>

</footer>
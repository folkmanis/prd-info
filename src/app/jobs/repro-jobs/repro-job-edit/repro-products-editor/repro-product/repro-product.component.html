<div [formGroup]="form" class="container" appViewSize #viewSize="viewSize">

    <div class="name">

        <!-- Prece -->
        <button *ngIf="viewSize.isSmall === false" mat-icon-button (click)="remove.next()" [disabled]="form.disabled">
            <mat-icon>delete</mat-icon>
        </button>

        <app-product-autocomplete formControlName="name" [customerProducts]="customerProducts" class="full-width">
        </app-product-autocomplete>

    </div>

    <div class="numbers">

        <!-- Skaits -->
        <mat-form-field class="count">
            <input matInput type="number" formControlName="count">
            <span matSuffix [class.disabled]="form.disabled">
                &nbsp;{{ unitsControl.value }}
            </span>
        </mat-form-field>


        <!-- Cena -->
        <mat-form-field *ngIf="showPrices" class="price">
            <input matInput type="number" formControlName="price">
            <span matSuffix [class.disabled]="form.disabled">
                &nbsp;&euro;
            </span>
            <button matSuffix mat-icon-button matTooltip="Pievienot no cenrāža" (click)="onAddPrice()"
                [disabled]="form.valid !== true || form.disabled === true">
                <mat-icon>
                    keyboard_arrow_left
                </mat-icon>
            </button>
        </mat-form-field>

        <!-- Summa -->

        <div *ngIf="showPrices" class="total" [class.disabled]="form.disabled">
            {{form.value.count * form.value.price | currency}}
        </div>


    </div>
    <!-- Piezīmes -->
    <div class="comments">
        <mat-form-field class="full-width">
            <mat-label>
                Piezīmes
            </mat-label>
            <input matInput type="text" formControlName="comment">
        </mat-form-field>
    </div>

    <div *ngIf="viewSize.isSmall">
        <button mat-button (click)="remove.next()" [disabled]="form.disabled">
            DZĒST
        </button>
    </div>


</div>
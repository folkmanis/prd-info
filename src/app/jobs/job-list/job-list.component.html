<cdk-virtual-scroll-viewport itemSize="32" class="container" #scrollable>

    <table>
        <!-- <thead>
            <tr>
                <th class="column-jobId">ID</th>
                <th class="column-customer">Klients</th>
                <th class="column-receivedDate">Datums</th>
                <th class="column-name">Nosaukums</th>
                <th class="column-productsObj-name">Izstrādājums</th>
                <th class="column-productsObj-count">Skaits</th>
            </tr>
        </thead> -->
        <tbody>
            <tr *cdkVirtualFor="let job of dataSource$; let idx=index;" [class.job-completed]="job.invoiceId">
                <!-- statusa indikators -->
                <td class="column-state">
                    <mat-icon *ngIf="job.jobStatus.generalStatus === 20" color="primary">
                        label_important
                    </mat-icon>
                </td>
                <!-- jobId -->
                <td class="column-jobId" (click)="onJobEdit(job.jobId)">
                    {{job.jobId}}
                </td>

                <!-- customer -->
                <td class="column-customer" (click)="onJobEdit(job.jobId)">
                    {{job.custCode}}
                </td>

                <!-- 'receivedDate' -->
                <td class="column-receivedDate" (click)="onJobEdit(job.jobId)">
                    {{job.receivedDate | date:'dd.MM.yyyy'}}
                </td>

                <!-- 'name' -->
                <td class="column-name">
                    <div>
                        <span class="name" (click)="onJobEdit(job.jobId)" [matTooltip]="job.name"
                            [matTooltipShowDelay]="500" [matTooltipDisabled]="job.name.length < 50">
                            {{job.name}}
                        </span>
                        <span class="buttons">
                            <button mat-icon-button (click)="onJobEdit(job.jobId)" matTooltip="Atvērt darbu">
                                <mat-icon>open_in_new</mat-icon>
                            </button>
                            <button mat-icon-button (click)="copyJobIdAndName(job.jobId, job.name)"
                                matTooltip="Kopēt nosaukumu">
                                <mat-icon>filter_none</mat-icon>
                            </button>
                            <button *ngIf="job.jobStatus.generalStatus === 20" mat-icon-button color="primary"
                                matToolTip="Pabeigts!" (click)="onSetJobStatus(job.jobId, 30)">
                                <mat-icon>check</mat-icon>
                            </button>
                            <button *ngIf="job.jobStatus.generalStatus === 10" mat-icon-button color="primary"
                                matToolTip="Darbs aktīvs" (click)="onSetJobStatus(job.jobId, 20)">
                                <mat-icon>label_important</mat-icon>
                            </button>
                        </span>
                    </div>
                </td>

                <!-- Izstrādājums -->
                <td class="column-productsObj-name">
                    {{job.productsObj?.name}}
                </td>
                <!-- Skaits -->
                <td class="column-productsObj-count">
                    {{job.productsObj?.count}}
                </td>

            </tr>
        </tbody>

    </table>
</cdk-virtual-scroll-viewport>
<app-scroll-to-top position="absolute" [scrollable]="scrollable"></app-scroll-to-top>
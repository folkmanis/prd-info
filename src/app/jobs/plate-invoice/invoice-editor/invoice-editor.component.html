<div *ngIf="invoice$ | async as invoice;">
    <section>
        <h3>
            Aprēķins nr. {{invoice.invoiceId}}
        </h3>
        <p>
            {{invoice.createdDate | date}}
        </p>
        <P>
            Klients: <b>{{invoice.customer}} </b>
            <span *ngIf="invoice.financial">
                ({{invoice.financial.clientName}})
            </span>
        </P>
    </section>
    <section>
        <h4>
            Preces
        </h4>
        <ul>
            <li *ngFor="let product of invoice.products;">
                {{product._id}} | {{product.count}} | {{product.price | currency}} | {{product.total | currency}}
            </li>
            <li>
                <strong>Kopā: {{invoice.total | currency}}</strong>
            </li>
        </ul>
    </section>
    <section>
        <h4>
            Eksports
        </h4>
        <button mat-raised-button (click)="onPdfDownload(invoice)">PDF</button>
        <button mat-raised-button (click)="onCsvInvoice(invoice)">CSV PAVADZĪMEI</button>
        <button mat-raised-button (click)="onCsvReport(invoice)">CSV SARAKSTS</button>
    </section>
    <section>
        <h4>
            Iekļautie darbi
        </h4>
        <app-job-selection-table [jobs]="invoice.jobs" disabled></app-job-selection-table>
    </section>
</div>
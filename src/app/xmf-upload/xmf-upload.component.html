<mat-card appFileDrop (filesEmitter)="onFileDropped($event)">
  <mat-card-header>
    <mat-card-title> Arhīva fails </mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <div>Nomest šeit!</div>
    <div>
      @if (file) {
        <span> {{ file.name }} // {{ file.size | filesize }} </span>
      }
    </div>
  </mat-card-content>

  <mat-card-actions>
    <button mat-button (click)="fileInput.click()" [disabled]="busy()">Atvērt</button>
    <input hidden (change)="onFileSelected($event)" #fileInput type="file" accept=".dbd" />
    <button mat-raised-button (click)="onUpload()" [disabled]="file === null || busy()">Apstrādāt!</button>
  </mat-card-actions>

  <mat-card-footer>
    <mat-progress-bar [mode]="busy() ? 'indeterminate' : 'determinate'" />
  </mat-card-footer>
</mat-card>

<app-tabula [history]="history$ | async" scroll-to-top />

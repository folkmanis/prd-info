<table mat-table [dataSource]="categories$" class="app-table">

    <ng-container *ngFor="let col of columns" [matColumnDef]="col">
        <td mat-cell *matCellDef="let data">
            <span [class.disabled]="disabled">
                {{data[col]}}
            </span>
        </td>
    </ng-container>

    <ng-container matColumnDef="button">
        <th mat-header-cell *matHeaderCellDef>
            <button mat-icon-button (click)="onAddRow()" matTooltip="Pievienot jaunu" [disabled]="disabled">
                <mat-icon>
                    add_circle_outline
                </mat-icon>
            </button>
        </th>
        <td mat-cell *matCellDef="let row; index as idx">
            <button mat-icon-button (click)="onRemoveRow(idx)" [disabled]="disabled" matTooltip="DzÄ“st">
                <mat-icon>
                    delete_outline
                </mat-icon>
            </button>
        </td>
    </ng-container>

    <ng-container matColumnDef="header">
        <th mat-header-cell *matHeaderCellDef [colSpan]="displayedColumns.length - 1">
            <ng-content></ng-content>
        </th>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="['button','header'];"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns; index as idx;" (click)="onEditRow(row, idx)"></tr>

</table>
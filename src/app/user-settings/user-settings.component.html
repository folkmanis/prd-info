<div *ngIf="user();">

    <mat-card>

        <mat-card-header>

            <div mat-card-avatar class="avatar"> </div>

            <mat-card-title>
                {{ userForm.value.name }}&nbsp;
            </mat-card-title>

            <mat-card-subtitle>
                {{ user().username }}
            </mat-card-subtitle>

        </mat-card-header>

        <mat-card-content [formGroup]="userForm">

            <section>

                <mat-form-field class="name">
                    <mat-label>
                        Pilns vārds
                    </mat-label>
                    <input appInputTrim matInput formControlName="name">
                </mat-form-field>

            </section>

            <section>

                <mat-form-field class="name">
                    <mat-label>
                        e-pasts
                    </mat-label>
                    <input type="email" appInputTrim matInput formControlName="eMail">
                </mat-form-field>

            </section>

        </mat-card-content>

        <mat-divider></mat-divider>

        <mat-card-actions>
            <button mat-button (click)="onSave(userForm.getRawValue())"
                [disabled]="!userForm.valid || !isChanged || userForm.disabled" color="primary">
                SAGLABĀT
            </button>
            <button mat-button (click)="onReset()" [disabled]="userForm.pristine || userForm.disabled || !isChanged">
                ATIESTATĪT
            </button>
            <button mat-button appPasswordInput [passwordMinimumLength]="6"
                (appPasswordChange)="onPasswordChange($event)" color="primary">
                MAINĪT PAROLI
            </button>
        </mat-card-actions>

    </mat-card>

    <mat-card *ngIf="isDemo === false">

        <mat-card-header>
            <mat-card-title-group>
                <mat-card-title> Google savienojums </mat-card-title>

                <mat-card-subtitle> {{ user().google?.id }} </mat-card-subtitle>

                <img *ngIf="user().google?.picture as googlePicture;" mat-card-sm-image [src]="googlePicture">

            </mat-card-title-group>
        </mat-card-header>

        <mat-card-content>

            <app-google-info *ngIf="user().google as googleInfo;" [googleInfo]="googleInfo"
                (valueClicked)="onGoogleValueClicked($event)">
            </app-google-info>

        </mat-card-content>


        <mat-divider></mat-divider>

        <mat-card-actions>

            <a mat-button href="/data/login/google?redirect=/{{returnPath}}">
                SAVIENOT
            </a>

            <button mat-button (click)="onDeleteGoogle()" [disabled]="!user().google">
                ATVIENOT
            </button>

        </mat-card-actions>


    </mat-card>

</div>